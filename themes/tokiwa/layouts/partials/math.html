<!-- KaTeX (as in HugoBasicExample) -->
<!-- to update Katex check out https://github.com/KaTeX/KaTeX -->

<!-- Katex css -->
<link rel="stylesheet" href='{{"lib/katex.min.css"|absURL}}' crossorigin="anonymous">

<!-- The loading of KaTeX is deferred to speed up page rendering -->
<script defer src='{{"lib/katex.min.js"|absURL}}' crossorigin="anonymous"></script>

<!-- To automatically render math in text elements, include the auto-render extension: -->
<script defer src='{{"lib/contrib/auto-render.min.js"|absURL}}'
crossorigin="anonymous"
onload='renderMathInElement(document.body);'></script>


<!-- <script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(document.body, {
            delimiters: [
                {left: "$$", right: "$$", display: true},
                {left: "$", right: "$", display: false}
            ]
        });
    });
</script> -->

<!-- do not add onload attributes, breaks settings below -->
<script>
  document.addEventListener("DOMContentLoaded", function() {
      renderMathInElement(document.body, {
          delimiters: [
              {left: "$$\n", right: "\n$$", display: true},
              {left: "$$", right: "$$", display: false},
              {left: "$", right: "$", display: false},
              {left: "\\[", right: "\\]", display: true},
              {left: "\\(", right: "\\)", display: false}
          ],
          trust: (context) => ['\\htmlId', '\\href'].includes(context.command),
          macros: {
            "\\eqref": "\\href{###1}{(\\text{#1})}",
            "\\ref": "\\href{###1}{\\text{#1}}",
            "\\label": "\\htmlId{#1}{}"
          }
      });
  });
</script>